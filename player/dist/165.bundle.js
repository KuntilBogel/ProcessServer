"use strict";(self.webpackChunkmyLibrary=self.webpackChunkmyLibrary||[]).push([[165],{165:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var a={htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\r?\n/g,"<BR>")},htmlDecode:function(e,t){return e.replace(/\<BR\s*\/?\>/gi,t||"\r\n").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}};const n={name:"smi",helper:a,detect:function(e){if("string"==typeof e&&/\<SAMI[^\>]*\>[\s\S]*\<BODY[^\>]*\>/g.test(e))return"smi"},parse:function(e,t){var r=[],n=t.eol||"\r\n",s=/\<TITLE[^\>]*\>([\s\S]*)\<\/TITLE\>/gi.exec(e);s&&((S={type:"meta",name:"title"}).data=s[1].replace(/^[\s\r\n]*/g,"").replace(/[\s\r\n]*$/g,""),r.push(S));var l=/\<STYLE[^\>]*\>([\s\S]*)\<\/STYLE\>/gi.exec(e);l&&((S={type:"meta",name:"style"}).data=l[1],r.push(S));for(var c=null,p=e.replace(/^[\s\S]*\<BODY[^\>]*\>/gi,"").replace(/\<\/BODY[^\>]*\>[\s\S]*$/gi,"").split(/\<SYNC/gi),g=0;g<p.length;g++)if(p[g]&&0!=p[g].trim().length){var o="<SYNC"+p[g],i=/^\<SYNC[^\>]+Start\s*=\s*["']?(\d+)["']?[^\>]*\>([\s\S]*)/gi.exec(o);if(i){var S;(S={type:"caption"}).start=parseInt(i[1]),S.end=S.start+2e3,S.duration=S.end-S.start,S.content=i[2].replace(/^\<\/SYNC[^\>]*>/gi,"");var u=!0,d=/^\<P[^\>]+Class\s*=\s*["']?([\w\d\-_]+)["']?[^\>]*\>([\s\S]*)/gi.exec(S.content);if(d||(d=/^\<P([^\>]*)\>([\s\S]*)/gi.exec(S.content)),d){var m=d[2].replace(/\<P[\s\S]+$/gi,"");u=0==(m=(m=m.replace(/\<BR\s*\/?\>[\s\r\n]+/gi,n).replace(/\<BR\s*\/?\>/gi,n).replace(/\<[^\>]+\>/g,"")).replace(/^[\s\r\n]+/g,"").replace(/[\s\r\n]+$/g,"")).replace(/&nbsp;/gi," ").replace(/[\s\r\n]+/g,"").length,S.text=a.htmlDecode(m,n)}!t.preserveSpaces&&u?t.verbose&&console.log("INFO: Skipping white space caption at "+S.start):r.push(S),c&&(c.end=S.start,c.duration=c.end-c.start),c=S}else t.verbose&&console.log("WARN: Unknown part",p[g])}return r},build:function(e,t){var r=t.eol||"\r\n",n="";n+="<SAMI>"+r,n+="<HEAD>"+r,n+="<TITLE>"+(t.title||"")+"</TITLE>"+r,n+='<STYLE TYPE="text/css">'+r,n+="\x3c!--"+r,n+="P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }"+r,n+=".LANG { Name: "+(t.langName||"English")+"; lang: "+(t.langCode||"en-US")+"; SAMIType: CC; }"+r,n+="--\x3e"+r,n+="</STYLE>"+r,n+="</HEAD>"+r,n+="<BODY>"+r;for(var s=0;s<e.length;s++){var l=e[s];"meta"!=l.type&&(void 0!==l.type&&"caption"!=l.type?t.verbose&&console.log("SKIP:",l):(n+="<SYNC Start="+l.start+">"+r,n+="  <P Class=LANG>"+a.htmlEncode(l.text||"")+(t.closeTags?"</P>":"")+r,t.closeTags&&(n+="</SYNC>"+r),n+="<SYNC Start="+l.end+">"+r,n+="  <P Class=LANG>&nbsp;"+(t.closeTags?"</P>":"")+r,t.closeTags&&(n+="</SYNC>"+r)))}return(n+="</BODY>"+r)+"</SAMI>"+r}}}}]);