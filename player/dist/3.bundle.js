(self.webpackChunkidk=self.webpackChunkidk||[]).push([[3],{191:(t,e,r)=>{"use strict";var n=r(555);t.exports={name:"ass",helper:n.helper,detect:n.detect,parse:n.parse,build:n.build}},278:t=>{"use strict";t.exports={name:"json",detect:function(t){if("string"==typeof t&&/^\[[\s\r\n]*\{[\s\S]*\}[\s\r\n]*\]$/g.test(t))return"json"},parse:function(t,e){return JSON.parse(t)},build:function(t,e){return JSON.stringify(t," ",2)}}},329:t=>{"use strict";var e={toMilliseconds:function(t){var e=/^\s*(\d+):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(t);return 60*parseInt(e[1])*1e3+1e3*parseInt(e[2])+10*(e[4]?parseInt(e[4]):0)},toTimeString:function(t){var e=Math.floor(t/1e3/60),r=Math.floor(t/1e3%60),n=Math.floor(t%1e3);return(e<10?"0":"")+e+":"+(r<10?"0":"")+r+"."+(n<100?"0":"")+(n<10?"0":Math.floor(n/10))}};t.exports={name:"lrc",helper:e,detect:function(t){if("string"==typeof t&&/\r?\n\[(\d+:\d{1,2}([.,]\d{1,3})?)\](.*)\r?\n/.test(t))return!0},parse:function(t,r){for(var n=null,o=[],a=(r.eol,t.split(/\r?\n/)),s=0;s<a.length;s++)if(a[s]&&0!=a[s].trim().length){var i=/^\[(\d{1,2}:\d{1,2}([.,]\d{1,3})?)\](.*)(\r?\n)*$/gi.exec(a[s]);if(i)(l={type:"caption"}).start=e.toMilliseconds(i[1]),l.end=l.start+2e3,l.duration=l.end-l.start,l.content=i[3],l.text=l.content,o.push(l),n&&(n.end=l.start,n.duration=n.end-n.start),n=l;else{var l,c=/^\[([\w\d]+):([^\]]*)\](\r?\n)*$/gi.exec(a[s]);c?((l={type:"meta"}).tag=c[1],c[2]&&(l.data=c[2]),o.push(l)):r.verbose&&console.log("WARN: Unknown part",a[s])}}return o},build:function(t,r){for(var n="",o=!1,a=r.eol||"\r\n",s=0;s<t.length;s++){var i=t[s];"meta"!=i.type?void 0!==i.type&&"caption"!=i.type?r.verbose&&console.log("SKIP:",i):(o||(n+=a,o=!0),n+="["+e.toTimeString(i.start)+"]"+i.text+a):i.tag&&i.data&&(n+="["+i.tag+":"+i.data.replace(/[\r\n]+/g," ")+"]"+a)}return n}}},211:t=>{"use strict";var e={toMilliseconds:function(t){var e=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(t);return 3600*parseInt(e[1])*1e3+60*parseInt(e[2])*1e3+1e3*parseInt(e[3])+(e[5]?parseInt(e[5]):0)},toTimeString:function(t){var e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return(e<10?"0":"")+e+":"+(r<10?"0":"")+r+":"+(n<10?"0":"")+n+"."+(o<100?"0":"")+(o<10?"0":"")+o}};t.exports={name:"sbv",helper:e,detect:function(t){if("string"!=typeof t)throw new Error("Expected string content!");if(/\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?\s*[,;]\s*\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?/g.test(t))return"sbv"},parse:function(t,r){for(var n=[],o=r.eol||"\r\n",a=t.split(/\r?\n\s+\r?\n/),s=0;s<a.length;s++){var i=/^(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\s*[,;]\s*(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\r?\n([\s\S]*)(\r?\n)*$/gi.exec(a[s]);if(i){var l={type:"caption"};l.start=e.toMilliseconds(i[1]),l.end=e.toMilliseconds(i[3]),l.duration=l.end-l.start;var c=i[5].split(/\[br\]|\r?\n/gi);l.content=c.join(o),l.text=l.content.replace(/\>\>\s*[^:]+:\s*/g,""),n.push(l)}else r.verbose&&console.log("WARN: Unknown part",a[s])}return n},build:function(t,r){for(var n="",o=r.eol||"\r\n",a=0;a<t.length;a++){var s=t[a];void 0!==s.type&&"caption"!=s.type?r.verbose&&console.log("SKIP:",s):(n+=e.toTimeString(s.start)+","+e.toTimeString(s.end)+o,n+=s.text+o,n+=o)}return n}}},937:t=>{"use strict";var e={htmlEncode:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\r?\n/g,"<BR>")},htmlDecode:function(t,e){return t.replace(/\<BR\s*\/?\>/gi,e||"\r\n").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}};t.exports={name:"smi",helper:e,detect:function(t){if("string"==typeof t&&/\<SAMI[^\>]*\>[\s\S]*\<BODY[^\>]*\>/g.test(t))return"smi"},parse:function(t,r){var n=[],o=r.eol||"\r\n",a=/\<TITLE[^\>]*\>([\s\S]*)\<\/TITLE\>/gi.exec(t);a&&((f={type:"meta",name:"title"}).data=a[1].replace(/^[\s\r\n]*/g,"").replace(/[\s\r\n]*$/g,""),n.push(f));var s=/\<STYLE[^\>]*\>([\s\S]*)\<\/STYLE\>/gi.exec(t);s&&((f={type:"meta",name:"style"}).data=s[1],n.push(f));for(var i=null,l=t.replace(/^[\s\S]*\<BODY[^\>]*\>/gi,"").replace(/\<\/BODY[^\>]*\>[\s\S]*$/gi,"").split(/\<SYNC/gi),c=0;c<l.length;c++)if(l[c]&&0!=l[c].trim().length){var p="<SYNC"+l[c],d=/^\<SYNC[^\>]+Start\s*=\s*["']?(\d+)["']?[^\>]*\>([\s\S]*)/gi.exec(p);if(d){var f;(f={type:"caption"}).start=parseInt(d[1]),f.end=f.start+2e3,f.duration=f.end-f.start,f.content=d[2].replace(/^\<\/SYNC[^\>]*>/gi,"");var u=!0,g=/^\<P[^\>]+Class\s*=\s*["']?([\w\d\-_]+)["']?[^\>]*\>([\s\S]*)/gi.exec(f.content);if(g||(g=/^\<P([^\>]*)\>([\s\S]*)/gi.exec(f.content)),g){var v=g[2].replace(/\<P[\s\S]+$/gi,"");u=0==(v=(v=v.replace(/\<BR\s*\/?\>[\s\r\n]+/gi,o).replace(/\<BR\s*\/?\>/gi,o).replace(/\<[^\>]+\>/g,"")).replace(/^[\s\r\n]+/g,"").replace(/[\s\r\n]+$/g,"")).replace(/&nbsp;/gi," ").replace(/[\s\r\n]+/g,"").length,f.text=e.htmlDecode(v,o)}!r.preserveSpaces&&u?r.verbose&&console.log("INFO: Skipping white space caption at "+f.start):n.push(f),i&&(i.end=f.start,i.duration=i.end-i.start),i=f}else r.verbose&&console.log("WARN: Unknown part",l[c])}return n},build:function(t,r){var n=r.eol||"\r\n",o="";o+="<SAMI>"+n,o+="<HEAD>"+n,o+="<TITLE>"+(r.title||"")+"</TITLE>"+n,o+='<STYLE TYPE="text/css">'+n,o+="\x3c!--"+n,o+="P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }"+n,o+=".LANG { Name: "+(r.langName||"English")+"; lang: "+(r.langCode||"en-US")+"; SAMIType: CC; }"+n,o+="--\x3e"+n,o+="</STYLE>"+n,o+="</HEAD>"+n,o+="<BODY>"+n;for(var a=0;a<t.length;a++){var s=t[a];"meta"!=s.type&&(void 0!==s.type&&"caption"!=s.type?r.verbose&&console.log("SKIP:",s):(o+="<SYNC Start="+s.start+">"+n,o+="  <P Class=LANG>"+e.htmlEncode(s.text||"")+(r.closeTags?"</P>":"")+n,r.closeTags&&(o+="</SYNC>"+n),o+="<SYNC Start="+s.end+">"+n,o+="  <P Class=LANG>&nbsp;"+(r.closeTags?"</P>":"")+n,r.closeTags&&(o+="</SYNC>"+n)))}return(o+="</BODY>"+n)+"</SAMI>"+n}}},869:t=>{"use strict";var e={toMilliseconds:function(t){var e=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(t);return 3600*parseInt(e[1])*1e3+60*parseInt(e[2])*1e3+1e3*parseInt(e[3])+(e[5]?parseInt(e[5]):0)},toTimeString:function(t){var e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return(e<10?"0":"")+e+":"+(r<10?"0":"")+r+":"+(n<10?"0":"")+n+","+(o<100?"0":"")+(o<10?"0":"")+o}};t.exports={name:"srt",helper:e,detect:function(t){if("string"==typeof t&&/\d+\r?\n\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?\s*\-\-\>\s*\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?/g.test(t))return"srt"},parse:function(t,r){for(var n=[],o=r.eol||"\r\n",a=t.split(/\r?\n\s+\r?\n/g),s=0;s<a.length;s++){var i=/^(\d+)\r?\n(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\s*\-\-\>\s*(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\r?\n([\s\S]*)(\r?\n)*$/gi.exec(a[s]);if(i){var l={type:"caption"};l.index=parseInt(i[1]),l.start=e.toMilliseconds(i[2]),l.end=e.toMilliseconds(i[4]),l.duration=l.end-l.start;var c=i[6].split(/\r?\n/);l.content=c.join(o),l.text=l.content.replace(/\<[^\>]+\>/g,"").replace(/\{[^\}]+\}/g,"").replace(/\>\>\s*[^:]*:\s*/g,""),n.push(l)}else r.verbose&&console.log("WARN: Unknown part",a[s])}return n},build:function(t,r){for(var n="",o=r.eol||"\r\n",a=0;a<t.length;a++){var s=t[a];void 0!==s.type&&"caption"!=s.type?r.verbose&&console.log("SKIP:",s):(n+=(a+1).toString()+o,n+=e.toTimeString(s.start)+" --\x3e "+e.toTimeString(s.end)+o,n+=s.text+o,n+=o)}return n}}},555:t=>{"use strict";var e={toMilliseconds:function(t){var e=/^\s*(\d+:)?(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(t);return 3600*(e[1]?parseInt(e[1].replace(":","")):0)*1e3+60*parseInt(e[2])*1e3+1e3*parseInt(e[3])+10*(e[5]?parseInt(e[5]):0)},toTimeString:function(t){var e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),o=Math.floor(t%1e3/10);return e+":"+(r<10?"0":"")+r+":"+(n<10?"0":"")+n+"."+(o<10?"0":"")+o}};t.exports={name:"ssa",helper:e,detect:function(t){if("string"!=typeof t)throw new Error("Expected string content!");if(/^[\s\r\n]*\[Script Info\]\r?\n/g.test(t)&&/[\s\r\n]*\[Events\]\r?\n/g.test(t))return t.indexOf("[V4+ Styles]")>0?"ass":"ssa"},parse:function(t,r){for(var n,o,a,s=null,i=[],l=r.eol||"\r\n",c=t.split(/\r?\n\s*\r?\n/),p=0;p<c.length;p++){var d=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)(\r?\n)*$/gi.exec(c[p]);if(d)for(var f=d[1],u=d[2].split(/\r?\n/),g=0;g<u.length;g++){var v=u[g];if(!/^\s*;/.test(v)){var m=/^\s*([^:]+):\s*(.*)(\r?\n)?$/.exec(v);if(m){if("Script Info"==f){n||((n={}).type="meta",n.data={},i.push(n));var h=m[1].trim(),S=m[2].trim();n.data[h]=S;continue}if("V4 Styles"==f||"V4+ Styles"==f){if(h=m[1].trim(),S=m[2].trim(),"Format"==h){s=S.split(/\s*,\s*/g);continue}if("Style"==h){for(var y=S.split(/\s*,\s*/g),x={type:"style",data:{}},b=0;b<s.length&&b<y.length;b++)x.data[s[b]]=y[b];i.push(x);continue}}if("Events"==f){if(h=m[1].trim(),S=m[2].trim(),"Format"==h){s=S.split(/\s*,\s*/g);continue}if("Dialogue"==h){for(y=S.split(/\s*,\s*/g),x={type:"caption",data:{}},b=0;b<s.length&&b<y.length;b++)x.data[s[b]]=y[b];x.start=e.toMilliseconds(x.data.Start),x.end=e.toMilliseconds(x.data.End),x.duration=x.end-x.start,x.content=x.data.Text;var M=(o=S,",",a=s.length-1,o.split(",",a).join(",").length+1);x.content=S.substr(M),x.data.Text=x.content,x.text=x.content.replace(/\\N/g,l).replace(/\{[^\}]+\}/g,""),i.push(x);continue}}}}}r.verbose&&console.log("WARN: Unknown part",c[p])}return i},build:function(t,r){var n=r.eol||"\r\n",o="ass"==r.format,a="";a+="[Script Info]"+n,a+="; Script generated by subsrt "+n,a+="ScriptType: v4.00"+(o?"+":"")+n,a+="Collisions: Normal"+n,a+=n,o?(a+="[V4+ Styles]"+n,a+="Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding"+n,a+="Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0"+n):(a+="[V4 Styles]"+n,a+="Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding"+n,a+="Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0"+n),a+=n,a+="[Events]"+n,a+="Format: "+(o?"Layer":"Marked")+", Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text"+n;for(var s=0;s<t.length;s++){var i=t[s];"meta"!=i.type&&(void 0!==i.type&&"caption"!=i.type?r.verbose&&console.log("SKIP:",i):a+="Dialogue: "+(o?"0":"Marked=0")+","+e.toTimeString(i.start)+","+e.toTimeString(i.end)+",DefaultVCD, NTP,0000,0000,0000,,"+i.text.replace(/\r?\n/g,"\\N")+n)}return a}}},232:t=>{"use strict";t.exports={name:"sub",detect:function(t){if("string"==typeof t&&/^\{\d+\}\{\d+\}(.*)/.test(t))return"sub"},parse:function(t,e){for(var r=e.fps>0?e.fps:25,n=[],o=e.eol||"\r\n",a=t.split(/\r?\n/g),s=0;s<a.length;s++){var i=/^\{(\d+)\}\{(\d+)\}(.*)$/gi.exec(a[s]);if(i){var l={type:"caption"};l.index=s+1,l.frame={start:parseInt(i[1]),end:parseInt(i[2])},l.frame.count=l.frame.end-l.frame.start,l.start=Math.round(l.frame.start/r),l.end=Math.round(l.frame.end/r),l.duration=l.end-l.start;var c=i[3].split(/\|/g);l.content=c.join(o),l.text=l.content.replace(/\{[^\}]+\}/g,""),n.push(l)}else e.verbose&&console.log("WARN: Unknown part",a[s])}return n},build:function(t,e){for(var r=e.fps>0?e.fps:25,n="",o=e.eol||"\r\n",a=0;a<t.length;a++){var s=t[a];void 0!==s.type&&"caption"!=s.type?e.verbose&&console.log("SKIP:",s):n+="{"+("object"==typeof s.frame&&s.frame.start>=0?s.frame.start:s.start*r)+"}{"+("object"==typeof s.frame&&s.frame.end>=0?s.frame.end:s.end*r)+"}"+s.text.replace(/\r?\n/,"|")+o}return n}}},464:t=>{"use strict";var e={toMilliseconds:function(t){var e=/^\s*(\d{1,2}:)?(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(t);return 3600*(e[1]?parseInt(e[1].replace(":","")):0)*1e3+60*parseInt(e[2])*1e3+1e3*parseInt(e[3])+(e[5]?parseInt(e[5]):0)},toTimeString:function(t){var e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return(e<10?"0":"")+e+":"+(r<10?"0":"")+r+":"+(n<10?"0":"")+n+"."+(o<100?"0":"")+(o<10?"0":"")+o}};t.exports={name:"vtt",helper:e,detect:function(t){if("string"!=typeof t)throw new Error("Expected string content!");if(/^[\s\r\n]*WEBVTT\r?\n/g.test(t))return"vtt"},parse:function(t,r){for(var n=1,o=[],a=r.eol||"\r\n",s=t.split(/\r?\n\s+\r?\n/),i=0;i<s.length;i++){var l=/^([^\r\n]+\r?\n)?((\d{1,2}:)?\d{1,2}:\d{1,2}([.,]\d{1,3})?)\s*\-\-\>\s*((\d{1,2}:)?\d{1,2}:\d{1,2}([.,]\d{1,3})?)\r?\n([\s\S]*)(\r?\n)*$/gi.exec(s[i]);if(l){(p={type:"caption"}).index=n++,l[1]&&(p.cue=l[1].replace(/[\r\n]*/gi,"")),p.start=e.toMilliseconds(l[2]),p.end=e.toMilliseconds(l[5]),p.duration=p.end-p.start;var c=l[8].split(/\r?\n/);p.content=c.join(a),p.text=p.content.replace(/\<[^\>]+\>/g,"").replace(/\{[^\}]+\}/g,""),o.push(p)}else{var p,d=/^([A-Z]+)(\r?\n([\s\S]*))?$/.exec(s[i]);d||(d=/^([A-Z]+)\s+([^\r\n]*)?$/.exec(s[i])),d?((p={type:"meta"}).name=d[1],d[3]&&(p.data=d[3]),o.push(p)):r.verbose&&console.log("WARN: Unknown part",s[i])}}return o},build:function(t,r){for(var n=r.eol||"\r\n",o="WEBVTT"+n+n,a=0;a<t.length;a++){var s=t[a];if("meta"!=s.type)void 0!==s.type&&"caption"!=s.type?r.verbose&&console.log("SKIP:",s):(o+=(a+1).toString()+n,o+=e.toTimeString(s.start)+" --\x3e "+e.toTimeString(s.end)+n,o+=s.text+n,o+=n);else{if("WEBVTT"==s.name)continue;o+=s.name+n,o+=s.data?s.data+n:"",o+=n}}return o}}},983:(t,e,r)=>{var n={"./ass.js":191,"./json.js":278,"./lrc.js":329,"./sbv.js":211,"./smi.js":937,"./srt.js":869,"./ssa.js":555,"./sub.js":232,"./vtt.js":464};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id=983},3:(t,e,r)=>{"use strict";var n={format:{}};function o(t){return JSON.parse(JSON.stringify(t))}!function(){for(var t=["vtt","lrc","smi","ssa","ass","sub","srt","sbv","json"],e=0;e<t.length;e++){var o=t[e],a=r(983)("./"+o+".js");n.format[a.name]=a}}(),n.list=function(){return Object.keys(n.format)},n.detect=function(t){for(var e=n.list(),r=0;r<e.length;r++){var o=e[r],a=n.format[o];if(void 0!==a&&"function"==typeof a.detect){var s=a.detect(t);if(!0===s)return o;if(o==s)return s}}},n.parse=function(t,e){var r=(e=e||{}).format||n.detect(t);if(!r||0==r.trim().length)throw new Error("Cannot determine subtitle format!");var o=n.format[r];if(void 0===o)throw new Error("Unsupported subtitle format: "+r);var a=o.parse;if("function"!=typeof a)throw new Error("Subtitle format does not support 'parse' op: "+r);return a(t,e)},n.build=function(t,e){var r=(e=e||{}).format||"srt";if(!r||0==r.trim().length)throw new Error("Cannot determine subtitle format!");var o=n.format[r];if(void 0===o)throw new Error("Unsupported subtitle format: "+r);var a=o.build;if("function"!=typeof a)throw new Error("Subtitle format does not support 'build' op: "+r);return a(t,e)},n.convert=function(t,e){"string"==typeof e&&(e={to:e});var r=o(e=e||{});delete r.format,r.from&&(r.format=r.from);var a=n.parse(t,r);return r.resync&&(a=n.resync(a,r.resync)),r.format=r.to||e.format,n.build(a,r)},n.resync=function(t,e){var r,n,a,s;if("function"==typeof(e=e||{}))r=e;else if("number"==typeof e)s=e,r=function(t){return[t[0]+s,t[1]+s]};else{if("object"!=typeof e)throw new Error("Argument 'options' not defined!");s=(e.offset||0)*(e.frame?e.fps||25:1),n=e.ratio||1,a=e.frame,r=function(t){return[Math.round(t[0]*n+s),Math.round(t[1]*n+s)]}}for(var i=[],l=0;l<t.length;l++){var c,p=o(t[l]);void 0!==p.type&&"caption"!=p.type||(a?(c=r([p.frame.start,p.frame.end]))&&2==c.length&&(p.frame.start=c[0],p.frame.end=c[1],p.frame.count=p.frame.end-p.frame.start):(c=r([p.start,p.end]))&&2==c.length&&(p.start=c[0],p.end=c[1],p.duration=p.end-p.start)),i.push(p)}return i},t.exports=n}}]);